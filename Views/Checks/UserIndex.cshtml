@model IEnumerable<marathon.Models.Marathonentity>

@{
    ViewData["Title"] = "赛事报名";
    Layout = "Usershared";
    int index = 1;

}

<link href="~/css/styles.css" rel="stylesheet" />
<section class="page-section bg-light" id="portfolio">
    <div class="container">
        <div class="text-center">
            <h2 class="section-heading text-uppercase">赛事</h2>
        </div>
        <div class="row">
            <!-- Portfolio items-->
            @foreach (var item in Model)
            {
                <div class="col-lg-4 col-sm-6 mb-4">
                    <!-- Portfolio item 1-->
                    <div class="portfolio-item">
                        <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal1">
                            <div class="portfolio-hover">
                                <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="@Url.Action("GetImage","Marathonentities",new { MaratnonId = item.MarathonId})" alt="..." />
                        </a>
                        <div class="portfolio-caption">
                            <div class="portfolio-caption-heading">@Html.DisplayFor(modelItem => item.MarathonName)</div>
                            <div class="portfolio-caption-subheading text-muted">
                                @{
                                    var data = item.MarathonData.ToString("yyyy-MM-dd");
                                }

                                @data
                            </div>
                            <a asp-action="CreateUser" asp-controller="Checks" class="btn btn-primary" data-mdb-ripple-init>我要报名</a>
                        </div>
                    </div>
                </div>

            }
        </div>
    </div>
</section>

@foreach (var item in Model)
{
    <div class="portfolio-modal modal fade" id="portfolioModal@(index)" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="close-modal" data-bs-dismiss="modal"><img src="~/images/portfolio/close-icon.svg" alt="Close modal" /></div>
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-8">
                            <div class="modal-body">
                                <!-- Project details-->
                                <h2 class="text-uppercase">@Html.DisplayFor(modelItem => item.MarathonName)</h2>
                                <img class="img-fluid d-block mx-auto" src="@Url.Action("GetImage","Marathonentities",new { MaratnonId = item.MarathonId})" alt="..." />
                                <p>@Html.DisplayFor(modelItem => item.MarathonDetails)</p>
                                <ul class="list-inline">
                                    <li>
                                        <strong>时间：</strong>
                                        @{
                                            var data = item.MarathonData.ToString("yyyy-MM-dd");
                                        }

                                        @data
                                    </li>
                                    <li>
                                        <strong>地点：</strong>
                                        @Html.DisplayFor(modelItem => item.MarathonPlace)
                                    </li>
                                    <li>
                                        <strong>赞助：</strong>
                                        @Html.DisplayFor(modelItem => item.MarathonSponsor)
                                    </li>
                                </ul>
                                <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                    <i class="fas fa-xmark me-1"></i>
                                    关闭页面
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    index++;
}



<script src="~/js/mdb.umd.min.js"></script>
<script src="~/js/scripts.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
